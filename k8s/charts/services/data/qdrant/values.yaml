image:
  repository: poseylabs/posey-qdrant
  pullPolicy: Always
  tag: "v1.9.0"

imagePullSecrets: []
nameOverride: ""
fullnameOverride: "posey-qdrant"

serviceAccount:
  create: true
  automount: true
  annotations: {}
  name: ""

service:
  type: ClusterIP
  port: 6333 # gRPC port
  httpPort: 1111 # HTTP port

ingress:
  enabled: true
  className: "nginx"
  annotations:
    cert-manager.io/cluster-issuer: letsencrypt-prod
  hosts:
    - host: qdrant.db.posey.ai
      paths:
        - path: /
          pathType: ImplementationSpecific
  tls:
   - secretName: qdrant-tls-secret
     hosts:
       - qdrant.db.posey.ai

autoscaling:
  enabled: false
  minReplicas: 1
  maxReplicas: 100
  targetCPUUtilizationPercentage: 80
  # targetMemoryUtilizationPercentage: 80

persistence:
  enabled: true
  storageClassName: "standard"
  accessMode: ReadWriteOnce
  size: 10Gi
  mountPath: /qdrant/storage

configOverrides:
  logLevel: INFO
  telemetryDisabled: true

envFromSecret:
  enabled: false
  secretName: "posey-qdrant-config"

global:
  partOf: posey
  image:
    registry: docker.io
    pullPolicy: Always
  resources:
    limits:
      cpu: "1"
      memory: "2Gi"
    requests:
      cpu: "500m"
      memory: "1Gi"
  replicaCount: 1

podSecurityContext:
  fsGroup: 999
  runAsUser: 999
  runAsGroup: 999